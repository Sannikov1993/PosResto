<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–µ–≤—å—é: –°–º–µ—à–∞–Ω–Ω–∞—è –æ–ø–ª–∞—Ç–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: #0f1419;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <!-- Modal -->
    <div class="bg-[#1a1f2e] rounded-2xl w-full max-w-lg shadow-2xl border border-gray-700/50 overflow-hidden">

        <!-- Header -->
        <div class="flex items-center justify-between px-4 py-3 bg-[#151921]">
            <span class="text-base font-semibold text-white">–û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞</span>
            <button class="p-1.5 hover:bg-gray-600 rounded text-gray-400 hover:text-white transition-all">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>

        <!-- Payment method buttons -->
        <div class="flex gap-2 px-4 py-3">
            <button id="btn-cash" onclick="setMode('cash')"
                class="flex-1 py-3 rounded-xl text-sm font-medium transition-all bg-[#1e2538] text-gray-400 hover:bg-[#252d42] hover:text-white">
                üíµ –ù–∞–ª–∏—á–Ω—ã–µ
            </button>
            <button id="btn-card" onclick="setMode('card')"
                class="flex-1 py-3 rounded-xl text-sm font-medium transition-all bg-[#1e2538] text-gray-400 hover:bg-[#252d42] hover:text-white">
                üí≥ –ö–∞—Ä—Ç–æ–π
            </button>
            <button id="btn-mixed" onclick="setMode('mixed')"
                class="flex-1 py-3 rounded-xl text-sm font-medium transition-all bg-blue-600 text-white">
                üîÄ –°–º–µ—à–∞–Ω–Ω–∞—è
            </button>
            <div class="flex items-center bg-orange-500 rounded-xl px-4">
                <span class="text-white text-sm font-medium">–ß–µ–∫</span>
                <span class="text-white text-sm font-bold ml-2">2 500 ‚ÇΩ</span>
            </div>
        </div>

        <!-- Mixed payment inputs -->
        <div id="mixed-section" class="px-4 py-3 space-y-3">
            <!-- Cash input -->
            <div class="flex items-center gap-3 p-3 bg-[#151921] rounded-xl border border-green-500/30">
                <div class="w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center text-lg">
                    üíµ
                </div>
                <div class="flex-1">
                    <div class="text-xs text-gray-500 mb-1">–ù–∞–ª–∏—á–Ω—ã–º–∏</div>
                    <input type="text" id="cash-input" value="1500" oninput="calculateTotal()"
                        class="w-full bg-transparent text-2xl font-bold text-white outline-none"
                        placeholder="0">
                </div>
                <span class="text-gray-500 text-lg">‚ÇΩ</span>
            </div>

            <!-- Card input -->
            <div class="flex items-center gap-3 p-3 bg-[#151921] rounded-xl border border-blue-500/30">
                <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center text-lg">
                    üí≥
                </div>
                <div class="flex-1">
                    <div class="text-xs text-gray-500 mb-1">–ö–∞—Ä—Ç–æ–π</div>
                    <input type="text" id="card-input" value="1000" oninput="calculateTotal()"
                        class="w-full bg-transparent text-2xl font-bold text-white outline-none"
                        placeholder="0">
                </div>
                <span class="text-gray-500 text-lg">‚ÇΩ</span>
            </div>

            <!-- Quick buttons -->
            <div class="flex gap-2">
                <button onclick="splitEqual()" class="flex-1 py-2 bg-[#1e2538] hover:bg-[#252d42] rounded-lg text-sm text-gray-400 hover:text-white transition-all">
                    50/50
                </button>
                <button onclick="setCardRemainder()" class="flex-1 py-2 bg-[#1e2538] hover:bg-[#252d42] rounded-lg text-sm text-gray-400 hover:text-white transition-all">
                    –û—Å—Ç–∞—Ç–æ–∫ –Ω–∞ –∫–∞—Ä—Ç—É
                </button>
                <button onclick="setCashRemainder()" class="flex-1 py-2 bg-[#1e2538] hover:bg-[#252d42] rounded-lg text-sm text-gray-400 hover:text-white transition-all">
                    –û—Å—Ç–∞—Ç–æ–∫ –Ω–∞–ª–∏—á–Ω—ã–º–∏
                </button>
            </div>
        </div>

        <!-- Summary -->
        <div class="px-4 py-3 mx-4 mb-3 bg-[#151921] rounded-xl">
            <div class="flex justify-between text-sm mb-1">
                <span class="text-gray-500">–°—É–º–º–∞ –∑–∞–∫–∞–∑–∞</span>
                <span class="text-white font-semibold">2 500 ‚ÇΩ</span>
            </div>
            <div class="border-t border-gray-700 my-2"></div>
            <div class="flex justify-between text-sm mb-1">
                <span class="text-green-400">–ù–∞–ª–∏—á–Ω—ã–º–∏</span>
                <span id="summary-cash" class="text-green-400">1 500 ‚ÇΩ</span>
            </div>
            <div class="flex justify-between text-sm mb-1">
                <span class="text-blue-400">–ö–∞—Ä—Ç–æ–π</span>
                <span id="summary-card" class="text-blue-400">1 000 ‚ÇΩ</span>
            </div>
            <div class="border-t border-gray-700 my-2"></div>
            <div id="summary-status" class="flex justify-between text-sm">
                <span class="text-green-400 font-semibold">–û–ø–ª–∞—á–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é</span>
                <span class="text-green-400 font-semibold">‚úì</span>
            </div>
            <!-- Change display (hidden by default) -->
            <div id="change-row" class="hidden flex justify-between text-sm mt-1">
                <span class="text-orange-400 font-semibold">–°–¥–∞—á–∞</span>
                <span id="change-amount" class="text-orange-400 font-semibold">0 ‚ÇΩ</span>
            </div>
        </div>

        <!-- Footer actions -->
        <div class="px-4 py-3 flex gap-3 border-t border-gray-800">
            <button class="px-6 py-3 bg-[#1e2538] hover:bg-[#252d42] rounded-xl text-gray-300 font-medium transition-all">
                –û—Ç–º–µ–Ω–∞
            </button>
            <button id="confirm-btn" class="flex-1 py-3 rounded-xl font-semibold transition-all bg-green-600 hover:bg-green-500 text-white">
                –û–ø–ª–∞—Ç–∏—Ç—å 2 500 ‚ÇΩ
            </button>
        </div>
    </div>

    <script>
        const total = 2500;

        function setMode(mode) {
            const btnCash = document.getElementById('btn-cash');
            const btnCard = document.getElementById('btn-card');
            const btnMixed = document.getElementById('btn-mixed');
            const mixedSection = document.getElementById('mixed-section');

            // Reset all buttons
            btnCash.className = 'flex-1 py-3 rounded-xl text-sm font-medium transition-all bg-[#1e2538] text-gray-400 hover:bg-[#252d42] hover:text-white';
            btnCard.className = 'flex-1 py-3 rounded-xl text-sm font-medium transition-all bg-[#1e2538] text-gray-400 hover:bg-[#252d42] hover:text-white';
            btnMixed.className = 'flex-1 py-3 rounded-xl text-sm font-medium transition-all bg-[#1e2538] text-gray-400 hover:bg-[#252d42] hover:text-white';

            if (mode === 'cash') {
                btnCash.className = 'flex-1 py-3 rounded-xl text-sm font-medium transition-all bg-green-600 text-white';
                mixedSection.style.display = 'none';
            } else if (mode === 'card') {
                btnCard.className = 'flex-1 py-3 rounded-xl text-sm font-medium transition-all bg-blue-600 text-white';
                mixedSection.style.display = 'none';
            } else {
                btnMixed.className = 'flex-1 py-3 rounded-xl text-sm font-medium transition-all bg-blue-600 text-white';
                mixedSection.style.display = 'block';
            }
        }

        function calculateTotal() {
            const cashVal = parseInt(document.getElementById('cash-input').value) || 0;
            const cardVal = parseInt(document.getElementById('card-input').value) || 0;
            const sum = cashVal + cardVal;

            document.getElementById('summary-cash').textContent = formatPrice(cashVal);
            document.getElementById('summary-card').textContent = formatPrice(cardVal);

            const statusEl = document.getElementById('summary-status');
            const changeRow = document.getElementById('change-row');
            const confirmBtn = document.getElementById('confirm-btn');

            if (sum < total) {
                const remaining = total - sum;
                statusEl.innerHTML = `<span class="text-yellow-400 font-semibold">–û—Å—Ç–∞–ª–æ—Å—å</span><span class="text-yellow-400 font-semibold">${formatPrice(remaining)}</span>`;
                changeRow.classList.add('hidden');
                confirmBtn.className = 'flex-1 py-3 rounded-xl font-semibold transition-all bg-gray-700 text-gray-500 cursor-not-allowed';
                confirmBtn.textContent = `–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç ${formatPrice(remaining)}`;
            } else if (sum > total) {
                const change = sum - total;
                statusEl.innerHTML = `<span class="text-green-400 font-semibold">–û–ø–ª–∞—á–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é</span><span class="text-green-400 font-semibold">‚úì</span>`;
                changeRow.classList.remove('hidden');
                document.getElementById('change-amount').textContent = formatPrice(change);
                confirmBtn.className = 'flex-1 py-3 rounded-xl font-semibold transition-all bg-green-600 hover:bg-green-500 text-white';
                confirmBtn.textContent = `–û–ø–ª–∞—Ç–∏—Ç—å (—Å–¥–∞—á–∞ ${formatPrice(change)})`;
            } else {
                statusEl.innerHTML = `<span class="text-green-400 font-semibold">–û–ø–ª–∞—á–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é</span><span class="text-green-400 font-semibold">‚úì</span>`;
                changeRow.classList.add('hidden');
                confirmBtn.className = 'flex-1 py-3 rounded-xl font-semibold transition-all bg-green-600 hover:bg-green-500 text-white';
                confirmBtn.textContent = `–û–ø–ª–∞—Ç–∏—Ç—å ${formatPrice(total)}`;
            }
        }

        function splitEqual() {
            const half = Math.floor(total / 2);
            document.getElementById('cash-input').value = half;
            document.getElementById('card-input').value = total - half;
            calculateTotal();
        }

        function setCardRemainder() {
            const cashVal = parseInt(document.getElementById('cash-input').value) || 0;
            document.getElementById('card-input').value = Math.max(0, total - cashVal);
            calculateTotal();
        }

        function setCashRemainder() {
            const cardVal = parseInt(document.getElementById('card-input').value) || 0;
            document.getElementById('cash-input').value = Math.max(0, total - cardVal);
            calculateTotal();
        }

        function formatPrice(price) {
            return new Intl.NumberFormat('ru-RU').format(price || 0) + ' ‚ÇΩ';
        }

        // Initial calculation
        calculateTotal();
    </script>
</body>
</html>
